<layout name="../../../Public/master" />
<ol class="breadcrumb" style="background-color: #f9f9f9;padding:8px 0;margin-bottom:10px;">
    <li>
        <a href=""><i class="fa fa-cogs"></i>
            用户管理</a>
    </li>
    <li class="active">
        <a href="">用户列表</a>
    </li>
</ol>
<ul class="nav nav-tabs" role="tablist">
    <li class="active"><a href="#tab1">用户列表</a></li>
</ul>
<table class="table table-hover" style="margin: 20px">
    <thead>
    <tr>
        <th width="80">用户编号</th>
        <th>用户名</th>
        <th>联系电话</th>
        <th>余额</th>
        <th>操作</th>
    </tr>
    </thead>
    <tbody>
    <foreach name="userData" key="k" item="v">
        <tr>
            <th width="80">{$v['uid']}</th>
            <td>{$v['username']}</td>
            <td>{$v['phone']}</td>
            <td>{$v['money']}</td>
            <td>
                <a class="btn btn-primary" href="{:u('admin/user/addr',['uid'=>$v['uid']])}" >管理用户地址</a>
                <a class="btn btn-danger" href="javascript:;"onclick="del({$v['uid']})">删除</a></td>
        </tr>
    </foreach>
    </tbody>
</table>

<script>
    function del(uid) {
        var obj = util.modal({
            title:'确认删除吗?',//标题
            content:'',//内容
            footer:'<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button><button type="button" class="btn btn-danger confirm" data-dismiss="modal">删除</button>',//底部
            width:600,//宽度
            events:{
                confirm:function(){
                    //哪个元素上有.confirm类，被点击就执行这个回调
                    location.href="{:u('admin/user/delete/uid/"+uid+"')}";
                }
            }
        });
        //显示模态框
        obj.modal('show');
    }
</script>